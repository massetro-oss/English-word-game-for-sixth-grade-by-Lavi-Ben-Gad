<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משחק אנגלית - טריוויה</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        /* Setup Screen */
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
        }
        
        .setup-screen {
            text-align: center;
        }
        
        .setup-screen h2 {
            color: #333;
            font-size: 2em;
            margin: 30px 0;
        }
        
        .player-selection {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 40px 0;
        }
        
        .player-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 30px 50px;
            font-size: 1.5em;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .player-btn:hover {
            transform: translateY(-5px);
        }
        
        .player-btn.selected {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transform: scale(1.1);
        }
        
        .start-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 1.3em;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .start-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Game Screen */
        .scoreboard {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            padding: 20px;
            background: #f5f7fa;
            border-radius: 15px;
        }
        
        .player-score {
            text-align: center;
            padding: 15px 30px;
            border-radius: 10px;
        }
        
        .player-score.active {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            color: white;
            transform: scale(1.1);
        }
        
        .player-score h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }
        
        .score-value {
            font-size: 2.5em;
            font-weight: bold;
        }
        
        .question-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .question-number {
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        
        .question-text {
            font-size: 1.5em;
        }
        
        .answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .answer-card {
            background: white;
            border: 3px solid #e0e0e0;
            padding: 25px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .answer-card:hover:not(.disabled) {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .answer-english {
            font-size: 1.5em;
            color: #667eea;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .answer-hebrew {
            font-size: 1.2em;
            color: #666;
        }
        
        .answer-card.correct {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            border-color: #11998e;
            animation: pulse 0.5s;
        }
        
        .answer-card.correct .answer-english,
        .answer-card.correct .answer-hebrew {
            color: white;
        }
        
        .answer-card.wrong {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
            color: white;
            border-color: #eb3349;
            animation: shake 0.5s;
        }
        
        .answer-card.wrong .answer-english,
        .answer-card.wrong .answer-hebrew {
            color: white;
        }
        
        .answer-card.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .feedback {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            min-height: 40px;
            margin-bottom: 20px;
        }
        
        .feedback.correct {
            color: #11998e;
        }
        
        .feedback.wrong {
            color: #eb3349;
        }
        
        .next-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: 1.2em;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            display: none;
            margin: 0 auto;
        }
        
        /* Results Screen */
        .results-screen {
            text-align: center;
        }
        
        .results-screen h2 {
            font-size: 2.5em;
            color: #667eea;
            margin-bottom: 30px;
        }
        
        .final-scores {
            background: #f5f7fa;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
        }
        
        .final-score-item {
            padding: 20px;
            margin: 15px 0;
            border-radius: 15px;
            font-size: 1.5em;
        }
        
        .final-score-item.winner {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            transform: scale(1.05);
        }
        
        .final-score-item.regular {
            background: white;
        }
        
        .play-again-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 1.3em;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            animation: confetti-fall 3s linear forwards;
        }
        
        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 משחק אנגלית - טריוויה 🎯</h1>
            <p>מצא את הזוג המתאים!</p>
        </div>
        
        <!-- Setup Screen -->
        <div class="screen active setup-screen" id="setupScreen">
            <h2>כמה שחקנים?</h2>
            <div class="player-selection">
                <button class="player-btn" onclick="selectPlayers(1)">
                    👤<br>שחקן אחד
                </button>
                <button class="player-btn" onclick="selectPlayers(2)">
                    👥<br>שני שחקנים
                </button>
            </div>
            <button class="start-btn" id="startBtn" onclick="startGame()" disabled>
                התחל משחק! 🚀
            </button>
        </div>
        
        <!-- Game Screen -->
        <div class="screen game-screen" id="gameScreen">
            <div class="scoreboard" id="scoreboard"></div>
            
            <div class="question-box">
                <div class="question-number" id="questionNumber"></div>
                <div class="question-text">בחר את הזוג המתאים:</div>
            </div>
            
            <div class="feedback" id="feedback"></div>
            
            <div class="answers-grid" id="answersGrid"></div>
            
            <button class="next-btn" id="nextBtn" onclick="nextQuestion()">
                שאלה הבאה ⬅️
            </button>
        </div>
        
        <!-- Results Screen -->
        <div class="screen results-screen" id="resultsScreen">
            <h2>🎉 המשחק הסתיים! 🎉</h2>
            <div class="final-scores" id="finalScores"></div>
            <button class="play-again-btn" onclick="resetGame()">
                שחק שוב 🔄
            </button>
        </div>
    </div>

    <script>
        const vocabulary = [
            {english: "about", hebrew: "בערך"},
            {english: "adventure", hebrew: "הרפתקה"},
            {english: "afraid", hebrew: "פוחד"},
            {english: "age", hebrew: "גיל"},
            {english: "all", hebrew: "כל"},
            {english: "always", hebrew: "תמיד"},
            {english: "animal", hebrew: "חיה"},
            {english: "back", hebrew: "לאחור"},
            {english: "because", hebrew: "כי"},
            {english: "beginning", hebrew: "התחלה"},
            {english: "boring", hebrew: "משעמם"},
            {english: "catch", hebrew: "לתפוס"},
            {english: "character", hebrew: "דמות"},
            {english: "city", hebrew: "עיר"},
            {english: "clothes", hebrew: "בגדים"},
            {english: "dangerous", hebrew: "מסוכן"},
            {english: "different", hebrew: "שונה"},
            {english: "ending", hebrew: "סוף"},
            {english: "exciting", hebrew: "מרתק"},
            {english: "fairy tale", hebrew: "אגדה"},
            {english: "find", hebrew: "למצוא"},
            {english: "flower", hebrew: "פרח"},
            {english: "forest", hebrew: "יער"},
            {english: "hero", hebrew: "גיבור"},
            {english: "home", hebrew: "בית"},
            {english: "interesting", hebrew: "מעניין"},
            {english: "keep", hebrew: "לשמור"},
            {english: "late", hebrew: "מאוחר"},
            {english: "life", hebrew: "חיים"},
            {english: "magic", hebrew: "קסם"},
            {english: "meet", hebrew: "לפגוש"},
            {english: "movie", hebrew: "סרט"},
            {english: "never", hebrew: "אף פעם"},
            {english: "often", hebrew: "לעיתים קרובות"},
            {english: "parents", hebrew: "הורים"},
            {english: "play", hebrew: "לשחק"},
            {english: "problem", hebrew: "בעיה"},
            {english: "quickly", hebrew: "במהירות"},
            {english: "real", hebrew: "ממשי"},
            {english: "scary", hebrew: "מפחיד"},
        ];
        
        let numPlayers = 0;
        let currentPlayer = 0;
        let players = [];
        let currentQuestionIndex = 0;
        let questions = [];
        let answeredCorrectly = false;
        
        function selectPlayers(num) {
            numPlayers = num;
            document.getElementById('startBtn').disabled = false;
            
            const buttons = document.querySelectorAll('.player-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            event.target.closest('.player-btn').classList.add('selected');
        }
        
        function startGame() {
            // Initialize players
            players = [];
            for (let i = 0; i < numPlayers; i++) {
                players.push({
                    name: numPlayers === 1 ? 'שחקן' : `שחקן ${i + 1}`,
                    score: 0
                });
            }
            
            // Prepare questions
            questions = [...vocabulary].sort(() => Math.random() - 0.5);
            currentQuestionIndex = 0;
            currentPlayer = 0;
            
            // Show game screen
            document.getElementById('setupScreen').classList.remove('active');
            document.getElementById('gameScreen').classList.add('active');
            
            renderScoreboard();
            showQuestion();
        }
        
        function renderScoreboard() {
            const scoreboard = document.getElementById('scoreboard');
            scoreboard.innerHTML = '';
            
            players.forEach((player, index) => {
                const scoreDiv = document.createElement('div');
                scoreDiv.className = 'player-score' + (index === currentPlayer ? ' active' : '');
                scoreDiv.innerHTML = `
                    <h3>${player.name}</h3>
                    <div class="score-value">${player.score}</div>
                `;
                scoreboard.appendChild(scoreDiv);
            });
        }
        
        function showQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }
            
            answeredCorrectly = false;
            const question = questions[currentQuestionIndex];
            
            document.getElementById('questionNumber').textContent = `שאלה ${currentQuestionIndex + 1} מתוך ${questions.length}`;
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('nextBtn').style.display = 'none';
            
            // Get 3 random wrong words
            const wrongWords = vocabulary
                .filter(v => v.english !== question.english)
                .sort(() => Math.random() - 0.5)
                .slice(0, 3);
            
            // Create options array
            const allOptions = [
                {english: question.english, hebrew: question.hebrew, correct: true},
                ...wrongWords.map(w => ({english: w.english, hebrew: w.hebrew, correct: false}))
            ];
            
            // Shuffle options
            for (let i = allOptions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allOptions[i], allOptions[j]] = [allOptions[j], allOptions[i]];
            }
            
            // Render answers
            const answersGrid = document.getElementById('answersGrid');
            answersGrid.innerHTML = '';
            
            allOptions.forEach(option => {
                const card = document.createElement('div');
                card.className = 'answer-card';
                card.innerHTML = `
                    <div class="answer-english">${option.english}</div>
                    <div class="answer-hebrew">${option.hebrew}</div>
                `;
                card.onclick = () => checkAnswer(option.correct, card);
                answersGrid.appendChild(card);
            });
        }
        
        function checkAnswer(isCorrect, card) {
            const allCards = document.querySelectorAll('.answer-card');
            allCards.forEach(c => c.classList.add('disabled'));
            
            const feedback = document.getElementById('feedback');
            
            if (isCorrect) {
                card.classList.add('correct');
                feedback.textContent = '🎉 נכון! כל הכבוד! 🎉';
                feedback.className = 'feedback correct';
                
                if (!answeredCorrectly) {
                    players[currentPlayer].score++;
                    answeredCorrectly = true;
                    renderScoreboard();
                }
                
                document.getElementById('nextBtn').style.display = 'block';
            } else {
                card.classList.add('wrong');
                feedback.textContent = '❌ לא נכון, נסה שוב! ❌';
                feedback.className = 'feedback wrong';
                
                if (!answeredCorrectly) {
                    players[currentPlayer].score = Math.max(0, players[currentPlayer].score - 1);
                    renderScoreboard();
                }
                
                setTimeout(() => {
                    allCards.forEach(c => {
                        if (!c.classList.contains('wrong')) {
                            c.classList.remove('disabled');
                        }
                    });
                }, 1000);
            }
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (numPlayers === 2) {
                currentPlayer = (currentPlayer + 1) % 2;
                renderScoreboard();
            }
            
            showQuestion();
        }
        
        function showResults() {
            document.getElementById('gameScreen').classList.remove('active');
            document.getElementById('resultsScreen').classList.add('active');
            
            const sortedPlayers = [...players].sort((a, b) => b.score - a.score);
            const maxScore = sortedPlayers[0].score;
            
            const finalScores = document.getElementById('finalScores');
            finalScores.innerHTML = '';
            
            sortedPlayers.forEach((player) => {
                const scoreDiv = document.createElement('div');
                const isWinner = player.score === maxScore;
                scoreDiv.className = 'final-score-item ' + (isWinner ? 'winner' : 'regular');
                scoreDiv.innerHTML = `
                    ${isWinner ? '👑 ' : ''}${player.name}: ${player.score} נקודות${isWinner ? ' 👑' : ''}
                `;
                finalScores.appendChild(scoreDiv);
            });
            
            createConfetti();
        }
        
        function createConfetti() {
            const colors = ['#f0f', '#0ff', '#ff0', '#0f0', '#f00', '#00f'];
            const container = document.querySelector('.container');
            
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    container.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 3000);
                }, i * 30);
            }
        }
        
        function resetGame() {
            document.getElementById('resultsScreen').classList.remove('active');
            document.getElementById('setupScreen').classList.add('active');
            document.getElementById('startBtn').disabled = true;
            
            const buttons = document.querySelectorAll('.player-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            
            numPlayers = 0;
            currentPlayer = 0;
            players = [];
            currentQuestionIndex = 0;
        }
    </script>
</body>
</html>
